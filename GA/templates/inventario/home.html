{% extends 'inventario/layout.html' %}
{% load staticfiles %}

{% block content %}
{% if request.user.is_superuser %}
{% if products %}
<div id="id_modal" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Low Stock Products</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-responsive">
          <thead>
            <th>Name</th>
            <th>Product Type</th>
            <th>Size</th>
            <th>Brand</th>
            <th>Department</th>
            <th>Minimum Amount</th>
            <th>Stock</th>
          </thead>
          <tbody>
            {% for product in products %}
              <tr>
                <td>{{product.name}}</td>
                <td>{{product.product_type}}</td>
                <td>{{product.size}}</td>
                <td>{{product.brand}}</td>
                <td>{{product.department}}</td>
                <td>{{product.min_amount}}</td>
                <td>{{product.stock}}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endif %}
  <div class="row form-group">
    <div class="col">
      <div class="card" style="width: 15rem;">
        <img class="card-img-top" src="{% static 'img/create_product.jpg' %}" alt="Card image cap">
        <div class="card-body">
          <h4 class="card-title">Create a New Product</h4>
          <p class="card-text">Add a Name, Brand, Department and some description to the new product.</p>
          <a class="btn btn-primary btn-lg" href="{% url 'inventario:create-product' %}">Create Product</a>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card" style="width: 15rem;">
        <img class="card-img-top" src="{% static 'img/product_in.jpg' %}" alt="Card image cap">
        <div class="card-body">
          <h4 class="card-title">Add a New Product</h4>
          <p class="card-text">Select an existing product on the database and add a new set of them. Remember to double check the info that you'll enter.</p>
          <a class="btn btn-primary btn-lg" href="{% url 'inventario:move-in' %}">Products In</a>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card" style="width: 15rem;">
        <img class="card-img-top" src="{% static 'img/product_out.jpg' %}" alt="Card image cap">
        <div class="card-body">
          <h4 class="card-title">Move a Product</h4>
          <p class="card-text">Gotta move out a product? Check who's authorizing it and where it will go.</p>
          <a class="btn btn-primary btn-lg" href="{% url 'inventario:move-out' %}">Products Out</a>
        </div>
      </div>
    </div>
  </div>
{% else %}
{% if products %}
<div id="id_modal" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLongTitle">Productos en Baja Cantidad</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-responsive">
          <thead>
            <th>Nombre</th>
            <th>Tipo De Producto</th>
            <th>Tama√±o o Talla</th>
            <th>Marca</th>
            <th>Departamento</th>
            <th>Cantidad Minima</th>
            <th>Stock</th>
          </thead>
          <tbody>
            {% for product in products %}
              <tr>
                <td>{{product.name}}</td>
                <td>{{product.product_type}}</td>
                <td>{{product.size}}</td>
                <td>{{product.brand}}</td>
                <td>{{product.department}}</td>
                <td>{{product.min_amount}}</td>
                <td>{{product.stock}}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-danger" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
{% endif %}
  <div class="row form-group">
    <div class="col">
      <div class="card" style="width: 15rem;">
        <img class="card-img-top" src="{% static 'img/create_product.jpg' %}" alt="Card image cap">
        <div class="card-body">
          <h4 class="card-title">Crear Un Producto Nuevo</h4>
          <p class="card-text">Crea un nuevo producto inexistente en la base de datos.</p>
          <a class="btn btn-primary btn-lg" href="{% url 'inventario:create-product' %}">Crear Producto</a>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card" style="width: 15rem;">
        <img class="card-img-top" src="{% static 'img/product_in.jpg' %}" alt="Card image cap">
        <div class="card-body">
          <h4 class="card-title">Entrada de Productos Nuevos (ENTRADA)</h4>
          <p class="card-text">Seleccione un producto existente y dele entrada al mismo. Recuerde verificar la informacion.</p>
          <a class="btn btn-primary btn-lg" href="{% url 'inventario:move-in' %}">Entrada</a>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card" style="width: 15rem;">
        <img class="card-img-top" src="{% static 'img/product_out.jpg' %}" alt="Card image cap">
        <div class="card-body">
          <h4 class="card-title">Mover o Desincorporar algun Producto (SALIDA)</h4>
          <p class="card-text">Especifique la razon por la cual se saldra un producto.</p>
          <a class="btn btn-primary btn-lg" href="{% url 'inventario:move-out' %}">Salida</a>
        </div>
      </div>
    </div>
  </div>
{% endif %}
{% endblock %}
